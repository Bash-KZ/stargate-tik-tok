(this["webpackJsonptik-tok-stargate"]=this["webpackJsonptik-tok-stargate"]||[]).push([[0],{1953:function(e,s,t){},1954:function(e,s,t){"use strict";t.r(s);t(224),t(227),t(228),t(229),t(230),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(250),t(251),t(100),t(252),t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),t(266),t(268),t(269),t(270),t(271),t(272),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(281),t(282),t(283),t(285),t(286),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(328),t(329),t(330),t(331),t(338),t(339),t(340),t(342),t(343),t(344),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(187),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(188),t(361),t(362),t(363),t(364),t(365),t(366),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(421),t(422),t(423),t(424),t(425),t(426),t(428),t(429),t(430),t(431),t(433),t(197);var c=t(4),n=t.n(c),i=t(220),a=t.n(i),r=t(91),l=t(17),o=t(90),j=t(70),d=t(57),u=t.n(d),b=t(1),m=function(e){var s=e.user;return Object(b.jsxs)("div",{className:"section microcard",children:[Object(b.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"bold",children:s.username}),Object(b.jsx)("p",{children:s.name})]})]})},O=function(e){var s=e.users;return Object(b.jsxs)("div",{className:"followers-column",children:[Object(b.jsxs)("div",{className:"followers-section",children:[Object(b.jsx)("div",{className:"home"}),Object(b.jsx)("h2",{className:"bold red",children:"For You"})]}),Object(b.jsxs)("div",{className:"followers-section",children:[Object(b.jsx)("div",{className:"following"}),Object(b.jsx)("h2",{children:"Following"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("p",{children:"Your top accounts"}),s&&s.map((function(e,s){return Object(b.jsx)(m,{user:e},s)})),Object(b.jsx)("hr",{})]})},h=function(e){var s=e.user,t=e.toggleFollow,c=s.timestamp.slice(2,7);return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"break"}),Object(b.jsxs)("div",{className:"section",children:[Object(b.jsxs)("div",{className:"user-info",children:[Object(b.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("h3",{className:"bold",children:s.username}),Object(b.jsx)("p",{className:"username",children:s.name}),Object(b.jsx)("p",{children:c})]}),Object(b.jsx)("p",{children:s.caption})]})]}),s.button_visible&&Object(b.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]}),Object(b.jsx)("video",{className:"video",controls:!0,children:Object(b.jsx)("source",{src:s.video,type:"video/mp4"})}),Object(b.jsxs)("div",{className:"section socials",children:[Object(b.jsx)("i",{class:"far fa-heart"}),Object(b.jsx)("div",{className:"social-tag",children:s.likes}),Object(b.jsx)("i",{class:"far fa-comment-dots"}),Object(b.jsx)("div",{className:"social-tag",children:s.comments}),Object(b.jsx)("i",{class:"far fa-share-square"})]})]})},x=function(e){var s=e.user,t=e.toggleFollow;return Object(b.jsxs)("div",{className:"section minicard",children:[Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"bold",children:s.username}),Object(b.jsx)("p",{children:s.name})]})]}),s.button_visible&&Object(b.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]})},f=t(69),v=t.n(f),p=function(){var e,s,t,n=Object(c.useState)(null),i=Object(j.a)(n,2),a=i[0],r=i[1],l=Object(c.useState)(null),d=Object(j.a)(l,2),m=d[0],f=d[1],p=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/.netlify/functions/addData");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(u.a.mark((function e(){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/.netlify/functions/posts");case 2:s=e.sent,console.log(s.data),r(s.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(m){var g={is_followed:!m.is_followed};v.a.put("/.netlify/functions/edit",{userId:m.id,data:g}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.error("error:"+e)})).then((function(){return N()})),f(null)}(Object(c.useEffect)((function(){p(),N()}),[]),a)&&(e=a.sort((function(e,s){return e.id<s.id?1:-1})),t=a.filter((function(e){return!0===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5),s=a.filter((function(e){return!1===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5));return Object(b.jsx)(b.Fragment,{children:e&&Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(O,{users:t}),Object(b.jsx)("div",{className:"feed",children:e.map((function(e,s){return Object(b.jsx)(h,{user:e,toggleFollow:function(e){return f(e)}},s)}))}),Object(b.jsx)("div",{className:"suggested-box",children:Object(b.jsx)("div",{className:"section",children:Object(b.jsxs)("div",{className:"suggested",children:[Object(b.jsx)("h2",{className:"bold",children:"Suggested accounts"}),Object(b.jsx)("div",{className:"break"}),s.map((function(e,s){return Object(b.jsx)(x,{user:e,toggleFollow:function(e){return f(e)}},s)}))]})})})]})})},N=t(221),g=t.n(N),w=function(){var e="aniak100",s=Object(c.useState)(null),t=Object(j.a)(s,2),n=t[0],i=t[1],a=Object(c.useState)(null),r=Object(j.a)(a,2),l=r[0],d=r[1],m=(new Date).toISOString(),O=g.a.random.uuid(),h=function(){var s=Object(o.a)(u.a.mark((function s(t){var c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.preventDefault(),c={id:O,name:"Ania Kubow",username:e,avatar:"https://i.imgur.com/QwZod6m.png",is_followed:!1,video:n,caption:l,likes:0,comments:0,timestamp:m,button_visible:!1},v.a.post("/.netlify/functions/add",c).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"upload-page",children:[Object(b.jsx)("br",{}),Object(b.jsx)("h1",{children:"Upload video"}),Object(b.jsxs)("p",{children:["This video will be published to @",e]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("form",{onSubmit:h,children:[Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)("div",{className:"image-upload"}),Object(b.jsxs)("div",{className:"form-section",children:[Object(b.jsxs)("div",{className:"section input-section",children:[Object(b.jsx)("label",{className:"bold",children:"Caption"}),Object(b.jsx)("input",{className:"input",name:"caption",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)("div",{className:"break"}),Object(b.jsxs)("div",{className:"section input-section",children:[Object(b.jsx)("label",{className:"bold",children:"Video Url"}),Object(b.jsx)("input",{className:"input",name:"video",onChange:function(e){return i(e.target.value)}})]})]})]}),Object(b.jsx)("button",{children:"Post"})]})})]})},k=function(){return Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(r.b,{to:"/",children:Object(b.jsx)("div",{className:"logo"})}),Object(b.jsx)("div",{className:"upload-container",children:Object(b.jsxs)("div",{className:"section",children:[Object(b.jsx)(r.b,{to:"/upload",children:Object(b.jsx)("div",{className:"upload"})}),Object(b.jsx)("img",{className:"personal",src:"https://i.imgur.com/QwZod6m.png"})]})})]})},_=(t(198),t(1953),function(){return Object(b.jsxs)(r.a,{children:[Object(b.jsx)(k,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/upload",component:w}),Object(b.jsx)(l.a,{path:"/",component:p})]})]})});s.default=_;a.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root"))}},[[1954,1,2]]]);
//# sourceMappingURL=main.05de060d.chunk.js.map